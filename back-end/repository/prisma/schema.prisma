generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

enum Category {
    fruits
    vegetables
    dairy
}

enum Role {
    user
    admin
}

model User {
    id            Int            @id @default(autoincrement())
    email         String         @unique
    password      String
    Role          Role
    Shoppingcarts Shoppingcart[]
    createdAt     DateTime       @default(now())
    updatedAt     DateTime       @updatedAt

    @@map("users")
}

model Shoppingcart {
    id           Int      @id @default(autoincrement())
    name         String
    deliveryDate DateTime
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
    User         User     @relation(fields: [userId], references: [id])
    userId       Int
    items        Item[]

    @@map("shoppingcarts")
}

model Item {
    id               Int             @id @default(autoincrement())
    name             String
    price            Float
    pathToImage      String
    Category         Category
    Shoppingcart     Shoppingcart[]
    NutritionLabel   NutritionLabel? @relation(fields: [nutritionLabelId], references: [id])
    nutritionLabelId Int?            @unique

    @@map("items")
}

model NutritionLabel {
    id            Int   @id @default(autoincrement())
    energy        Float
    fat           Float
    saturatedFat  Float
    carbohydrates Float
    sugar         Float
    protein       Float
    salts         Float
    item          Item?

    @@map("nutritionlabels")
}
